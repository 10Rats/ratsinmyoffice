<IfModule mod_rewrite.c> 
    Options +FollowSymLinks -MultiViews
    
    RewriteEngine On 
    RewriteBase /
    
    #www to non
    RewriteCond %{HTTP_HOST} ^www\.(([a-z0-9_]+\.)?ratsinmyoffice\.org)$ [NC]
    RewriteRule ^(.+?)/?$ http://%1/$1/ [R=301,L]

    # remove html suffix
    RewriteCond %{THE_REQUEST} /([^.]+)\.html [NC]
    RewriteRule ^(.*)\.html$ /$1 [L,R=301]

    # hide index.html on URI
    RewriteRule ^index\.html$ / [R=301,L]
    RewriteRule ^(.*)/index\.html$ /$1/ [R=301,L]
    
    # add a trailing slash to non files
    RewriteCond %{ENV:REDIRECT_STATUS} ^$
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*?[^/])$ %{REQUEST_URI}/ [L,R=301,NE]
</IfModule>
