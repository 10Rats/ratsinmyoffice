<IfModule mod_rewrite.c> 
    Options +FollowSymLinks -MultiViews
    
    RewriteEngine On 
    RewriteBase /
    
    #www to non
    RewriteCond %{HTTP_HOST} ^www\.(([a-z0-9_]+\.)?ratsinmyoffice\.org)$ [NC]
    RewriteRule ^(.+?)/?$ http://%1/$1/ [R=301,L]
    
    RewriteCond %{THE_REQUEST} \s/+(.+?)\.html/?[\s?] [NC]
    RewriteRule ^ /%1/ [R=301,NE,L]

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule (.*) /index.html/$1 [L]
    
    # add a trailing slash to non files
    RewriteCond %{ENV:REDIRECT_STATUS} ^$
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*?[^/])$ %{REQUEST_URI}/ [L,R=301,NE]
</IfModule>
